<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, 
    maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/plus.css" />
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
    crossorigin="anonymous"
    />
    <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"/>
    <link href='//spoqa.github.io/spoqa-han-sans/css/SpoqaHanSansNeo.css' rel='stylesheet' type='text/css'>
    <title>plus page</title>
</head>
<body onload="init()">
    <div id="wrapper">
        <header>
            <a class="material-symbols-outlined" href="/">Chevron_Left</a>
            <h3>루틴 만들기</h3>
            <div class="header-details">
            </div>
        </header>
    <main>
        <div class="container">
            <div class="js-clock">
                <p class="currDate"></p>
                <p class="currTime"></p>
            </div>
            <div class="routine">
                <a id="add-routine" href="/plusadd"><i class="material-symbols-outlined">add</i></a>
            </div>
            <div>
                <% data.forEach(function(item, index) { %>
                    <div class="routine2">
                        <div class="routinecon">
                            <div class="info">
                                <div class="title">
                                        <div class="sub-title"><%= item.todonum %></div>
                                        <h2><%= item.starttime %> <br/><%= item.doendtime %></h2>
                                    </div>
                                    <p class="dotime"><%= item.dotime %></p>
                                <div class="content"><p class="todo"><%= item.todo %></p></div>
                                <a href="/plusupd/<%= item.todonum %>" class="btn-update" title="수정">
                                    <i class="material-symbols-outlined">update</i>
                                </a>
                                <a href="/plusdel/<%= item.todonum %>" class="btn-delete" title="삭제">
                                    <i class="material-symbols-outlined">close</i>
                                </a>
                            </div>
                            <span class="checkbox"><input type="checkbox" id="checkbox" /><label for="checkbox"></label></span>
                        </div>
                    </div>
                <% }); %>
            </div>
            <!-- <div id="modal" class="modal-overlay">
                <div class="modal-window">
                    <div class="title">
                        <h2>모달</h2>
                    </div>
                    <div class="close-area">X</div>
                    <div class="content">
                        <input type="text">
                        <input type="text">
                        <input type="text">
                    </div>
                </div>
            </div> -->
            
        </div>
        
        <%- include("lowmenu")%>
    </main>
    <script>
        const clockContainer = document.querySelector(".js-clock"),
      dateTitle = clockContainer.querySelector(".currDate"),
      clockTitle = clockContainer.querySelector(".currTime");

function getDate(){
    const date = new Date();
    const week = new Array ('[일]','[월]','[화]','[수]','[목]','[금]','[토]');
    const year = date.getFullYear();
    const month = date.getMonth()+1;
    const day = date.getDay();
    const dayName = week[date.getDay()];
    dateTitle.innerText = `${year}년
        ${month <10 ? `0${month}` : month}월 ${day < 10 ? `0${day}` : day}일 ${dayName}`;
}

function getTime(){
    const date = new Date();
    const hours = date.getHours();
    const minutes = date.getMinutes();
    const seconds = date.getSeconds();
    clockTitle.innerText = `${hours < 10 ? `0${hours}` : hours}:${minutes < 10 ? `0${minutes}` : minutes}:${seconds < 10 ? `0${seconds}`: seconds}`;
}

function init() {
    getDate();
    getTime();
    setInterval(getTime, 1000);
}
    </script>
</body>
</html>